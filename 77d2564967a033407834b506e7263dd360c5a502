{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "659a0b76_87237a30",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-04-11T22:12:25Z",
      "side": 1,
      "message": "I apologize because I said I had tested this commit, and I think I was so excited that I didn\u0027t need the extraneous sensors anymore that I missed it removing humidity and pressure.",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "038df12d_2d7bc621",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2022-04-11T22:23:58Z",
      "side": 1,
      "message": "oh, I guess I don\u0027t have those sensors. Not sure.\n\nHow are the  humidity and pressure sensors configured? Can that be fixed after changing the Entity Manager config?",
      "parentUuid": "659a0b76_87237a30",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afe0e908_463084a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-13T18:28:15Z",
      "side": 1,
      "message": "\u003e I was so excited\n\nAt least someones getting excited about dbus-sensors ðŸ˜„\n\n\n\u003e How are the  humidity and pressure sensors configured?\n\nI think all their configs are public.\n\nLets keep this discussion going, but I\u0027m going to merge this to avoid the regression for the moment, which at the same time was fixing another regression.  At some point we can make a movie called regression-ception.",
      "parentUuid": "038df12d_2d7bc621",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "590fd470_2323a45f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-04-13T19:05:13Z",
      "side": 1,
      "message": "yea, this config https://github.com/openbmc/entity-manager/blob/master/configurations/Blyth.json has a DPS310 with temp/pressure and an SI7020 with temp/humidity.\n\nI couldn\u0027t really see a way of structuring it differently that could help, at least with how the current code is written.",
      "parentUuid": "afe0e908_463084a8",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3b05fe2_4d36fd41",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2022-04-29T11:39:13Z",
      "side": 1,
      "message": "I am confused on how deleting the config will affect the pressure sensors.\n\nIsn\u0027t it only used in https://github.com/openbmc/dbus-sensors/blob/7dd6443b88a52cb17d925bbe0f316d6a0374a703/src/HwmonTempMain.cpp#L343-L358? So we are removing it after it is used.\n\nDoes adding\n```\n\"Labels\": [\"temp1\", \"temp2\"],\n```\nin \n\n```\n{\n            \"Address\": \"0x76\",\n            \"Bus\": 7,\n            \"Name\": \"Ambient 1 Temp\",\n            \"Name1\": \"Station Pressure\",\n            \"Type\": \"DPS310\"\n        },\n```\n\nnot work?",
      "parentUuid": "590fd470_2323a45f",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29992b6e_3d1a6d64",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-04-29T14:35:48Z",
      "side": 1,
      "message": "The issue is that a single device config has multiple entries in the \u0027paths\u0027 vector.\n\n            fs::path root(\"/sys/bus/iio/devices\");\n            findFiles(root, R\"(in_temp\\d*_(input|raw))\", paths);\n            findFiles(root, R\"(in_pressure\\d*_(input|raw))\", paths);\n            findFiles(root, R\"(in_humidityrelative\\d*_(input|raw))\", paths);\n            findFiles(fs::path(\"/sys/class/hwmon\"), R\"(temp\\d+_input)\", paths);\n           \n            ...\n\n            for (auto\u0026 path : paths)\n            {\n                ...\n                configMap.erase(findSensorCfg);\n        \n            }\n\nIf the configMap entry is deleted the first time though the paths vector, then when it comes back around to handle the pressure/humidity paths entries the config for it will already be gone",
      "parentUuid": "c3b05fe2_4d36fd41",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf085bcb_424e51c2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000524
      },
      "writtenOn": "2022-04-29T15:03:55Z",
      "side": 1,
      "message": "Matt is correct here \"...  single device config has multiple entries in the \u0027paths\u0027 vector\".  That was one of the issue in shoehorning IIO devices into HwmonTemp.",
      "parentUuid": "29992b6e_3d1a6d64",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4298d0d5_0afc3d08",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2022-05-02T04:53:04Z",
      "side": 1,
      "message": "understood,\n\nI have added a new change in attempt to fix this issue. Please take a look,\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/dbus-sensors/+/53383",
      "parentUuid": "bf085bcb_424e51c2",
      "revId": "77d2564967a033407834b506e7263dd360c5a502",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}