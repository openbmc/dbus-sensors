{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "745d9711_127dc822",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-27T14:57:09Z",
      "side": 1,
      "message": "Does this also require a change to EM schemas?  Can we get that referenced here?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 54
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffb7cb5f_abb7067d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2025-10-29T08:14:28Z",
      "side": 1,
      "message": "please refer to here: https://gerrit.openbmc.org/c/openbmc/entity-manager/+/84735",
      "parentUuid": "745d9711_127dc822",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 54
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f1da6d35_22c9737b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2025-10-29T08:14:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ffb7cb5f_abb7067d",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 54
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c2667c0_b145b279",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-10-27T17:33:25Z",
      "side": 1,
      "message": "Battery voltage isn\u0027t in PSUSensor, that would be in ADCSensor, so I\u0027m a little confused why this use case matters?  Is this just a problem of us putting a device in the wrong sensor and would be solved by moving the device to the correct daemon?\n\nWhy do they \"require\" different monitoring frequencies?  This sensor daemon is for PMBus based sensors, which are cached in the kernel, so it\u0027s not clear why this changes abn individual polling rate would change the actual processing to the device.",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 16,
        "endChar": 50
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05232d4f_974c4294",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-10-27T17:33:45Z",
      "side": 1,
      "message": "Can you specify which device you\u0027re intending to change here?",
      "parentUuid": "9c2667c0_b145b279",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 16,
        "endChar": 50
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92d915ec_a3bcc505",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-27T20:07:52Z",
      "side": 1,
      "message": "\u003e Battery voltage isn\u0027t in PSUSensor, that would be in ADCSensor, so I\u0027m a little confused why this use case matters?\n\nI don\u0027t think that is 100% true.  One implementation _is_ to use the ADC, but another is to use a remote sensor device that is covered by PSUSensor.  For example an INA233, which is a current monitor, can be coupled with a known resistor size to determine a voltage.\n\nFrom the commit message, it does appear as those we ended up with some multi-channel ADC devices (attached via i2c) being surfaced by the PSUSensor daemon.  Maybe the originator can document the specific chips they\u0027re attempting to use this feature on.\n\n\u003e Why do they \"require\" different monitoring frequencies? \n\nA battery you want to read at a far slower frequency than most sensors.  In order to read a battery, most implementation require some \"jumper\" enabled via a GPIO that hooks the battery up to a drain.  If you leave that set all the time, or sense too often, you end up draining the battery.  I think typically we only read battery sensors approximately once per day.\n\n\u003e This sensor daemon is for PMBus based sensors, which are cached in the kernel, so it\u0027s not clear why this changes abn individual polling rate would change the actual processing to the device.\n\nThe kernel driver for a device _may_ cache a reading, but the kernel never reads _on its own_.  It is always driven by an access to the pmbus sysfs entries.  If a sensor daemon is the only thing reading a sensor, and the sensor daemon only reads once a day, the kernel will only read the device once a day.",
      "parentUuid": "05232d4f_974c4294",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 16,
        "endChar": 50
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65664964_11dc4c27",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2025-12-17T01:45:18Z",
      "side": 1,
      "message": "Yes, we use the ADC128D818 to monitor the battery voltage sense, so we hope the PSU sensor can support per-channel polling rate settings.",
      "parentUuid": "92d915ec_a3bcc505",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 16,
        "endChar": 50
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bc87251_619aa544",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-17T13:00:15Z",
      "side": 1,
      "message": "I believe this is resolved.  @ed@tanous.net, if you want some specific changes to the commit message, please let the author know.",
      "parentUuid": "65664964_11dc4c27",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 16,
        "endChar": 50
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53ffc5c1_e14df54a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T17:23:05Z",
      "side": 1,
      "message": "ACK, yes, the above explanation is reasonable.",
      "parentUuid": "5bc87251_619aa544",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 16,
        "endChar": 50
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef0c519a_9a02ebc2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T17:29:21Z",
      "side": 1,
      "message": "Actually, read through again, the question about PSUSensor vs HWMonTempSensor doesn\u0027t seem to be answered.  ADC128D818 looks like this device was added to the PSUSensor backend (application meant for PMBus) instead of being added to HWmonTemp sensor.  PMBus devices are expected to have one poll rate due to being paged, that\u0027s why only one is allowed.  Hwmon devices are intended to be polled independently, which is why it includes multiple poll rates.\n\nThose two applications are used interchangeably because the kernel abstracts all the readings away from userspace, but I suspect that\u0027s the root of the issue here.",
      "parentUuid": "53ffc5c1_e14df54a",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 16,
        "endChar": 50
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c75ab0c1_3e188fb9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-10-27T17:33:25Z",
      "side": 1,
      "message": "Same as above, this is per-device, not global",
      "range": {
        "startLine": 20,
        "startChar": 18,
        "endLine": 20,
        "endChar": 24
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f50f43b_64d3020d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-17T13:00:15Z",
      "side": 1,
      "message": "@peter.yin@quantatw.com - It looks like Ed is asking for a minor change to the commit message here.  Whenever you\u0027ve said \"global\", the code seems to actually support a PollRate property from the EM config to support per-device intervals already.  So it isn\u0027t a global rate.",
      "parentUuid": "c75ab0c1_3e188fb9",
      "range": {
        "startLine": 20,
        "startChar": 18,
        "endLine": 20,
        "endChar": 24
      },
      "revId": "5b2187d012c2f98e38c37a80ffc17ed4a15a7dda",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}