{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "27798aaa_fe8005dc",
        "filename": "src/ChassisIntrusionSensor.cpp",
        "patchSetId": 5
      },
      "lineNbr": 229,
      "author": {
        "id": 1000929
      },
      "writtenOn": "2023-05-07T14:25:13Z",
      "side": 1,
      "message": "why we need to reset after every read ?",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73f05950_d0fbe628",
        "filename": "src/ChassisIntrusionSensor.cpp",
        "patchSetId": 5
      },
      "lineNbr": 229,
      "author": {
        "id": 1001526
      },
      "writtenOn": "2023-05-08T03:51:20Z",
      "side": 1,
      "message": "As you can see the commit msg describes, resetting to the hwmon file will cause the driver to write to the reset bit in the BMC register which handles intrusion. They haven\u0027t upstreamed the driver yet but it\u0027s here https://github.com/AspeedTech-BMC/linux/blob/aspeed-master-v5.15/drivers/hwmon/aspeed-chassis.c. And you can check out the register CHAI10 in Aspeed2600 datasheet.",
      "parentUuid": "27798aaa_fe8005dc",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c23e0400_c084e159",
        "filename": "src/ChassisIntrusionSensor.cpp",
        "patchSetId": 5
      },
      "lineNbr": 396,
      "author": {
        "id": 1000929
      },
      "writtenOn": "2023-05-07T14:25:13Z",
      "side": 1,
      "message": "if more than one path is found , only the 1st path is considered ?",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7cfac770_b9f21732",
        "filename": "src/ChassisIntrusionSensor.cpp",
        "patchSetId": 5
      },
      "lineNbr": 396,
      "author": {
        "id": 1001526
      },
      "writtenOn": "2023-05-08T03:51:20Z",
      "side": 1,
      "message": "Yes, I expect it to have only one path because the configuration in the aspeed-g6.dtsi points to the exact address of the register, I think configuration in dts files to use it won\u0027t cause any difference. Please help suggest a change if my understanding is not correct.",
      "parentUuid": "c23e0400_c084e159",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90fcbab1_134306a4",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1000929
      },
      "writtenOn": "2023-05-07T14:25:13Z",
      "side": 1,
      "message": "const ? or does the name changes",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00680a17_714879d6",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1001526
      },
      "writtenOn": "2023-05-08T03:51:20Z",
      "side": 1,
      "message": "It doesn\u0027t change for now.",
      "parentUuid": "90fcbab1_134306a4",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28a2b1f5_abd95b02",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-05-08T23:26:01Z",
      "side": 1,
      "message": "We might want to make this configurable - the hwmon label. There are other BMC chips or aspeed can make changes in the driver",
      "parentUuid": "00680a17_714879d6",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8abc7166_3e83d565",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1001526
      },
      "writtenOn": "2023-05-09T03:25:36Z",
      "side": 1,
      "message": "Is it suitable to make users be aware of what\u0027s in the driver? I think if there\u0027s a change in the name, we have to modify this string from dbus-sensors because it corresponds to the driver. Would it be OK to change \"Class\" to \"Aspeed2600_Hwmon\" instead to separate this from implementations of other chips? If making hwmonName configurable is better, can you please recommend a config in the schema for it?",
      "parentUuid": "28a2b1f5_abd95b02",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19c6dae4_0103abae",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-06-06T00:25:55Z",
      "side": 1,
      "message": "My idea was to have a \"Label\" field in the config for this sensor type and different drivers are supported by different configs. \nHaving said that, I am ok with define a constexpr and improve later when we want to expand the support to other drivers",
      "parentUuid": "8abc7166_3e83d565",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d175b26_b9314069",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1001526
      },
      "writtenOn": "2023-06-06T04:53:00Z",
      "side": 1,
      "message": "From what I checked in EM\u0027s schema, \"Label\" seems not to be for this purpose (but for the Threshold in a multisensor type - is this correct?). Since the hwmonName is specific to Aspeed2600\u0027s chassis driver, I think I\u0027d better change the Class to \"Aspeed2600_Hwmon\". The code before constructing objects will go as:\nif ( \"Class\" \u003d\u003d \"Aspeed2600_Hwmon\" || \"Class\" \u003d\u003d \"another hwmon driver\" || ...)\n{\n  if ( \"Class\" \u003d\u003d \"Aspeed2600_Hwmon\" )\n  {\n       hwmonName \u003d \"intrusion0_alarm\";\n  }\n  else if\n  {...}\n  // create the hwmon class object with the hwmonName.\n}\nAny driver that wants to use the new sensor class can add its class name in the first if condition and provide its hwmonName to the constructor. Then, users can just choose the driver without knowing about the hwmonName.\n\nDo you think this is a good way to go?",
      "parentUuid": "19c6dae4_0103abae",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8238e12_eded4f53",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-06-12T22:41:39Z",
      "side": 1,
      "message": "Sure, we can use something similar to this \nhttps://github.com/openbmc/dbus-sensors/blob/master/src/FanMain.cpp#L66\n\nI am also OK with check in for the Aspeed support first as long as state clearly the limitation and how would one extend it to other drivers.",
      "parentUuid": "8d175b26_b9314069",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91306de8_9c3c662c",
        "filename": "src/ChassisIntrusionSensor.hpp",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1001526
      },
      "writtenOn": "2023-06-14T04:52:19Z",
      "side": 1,
      "message": "I added compatibleHwmonNames map to get the hwmonName for any Class string which has \"Hwmon\" in it and left instructions for future extension. Please check this out.",
      "parentUuid": "a8238e12_eded4f53",
      "revId": "db8da03a3408390e51b15f6ec2e117e3c91ec6d0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}