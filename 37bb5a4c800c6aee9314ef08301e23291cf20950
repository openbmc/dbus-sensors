{
  "comments": [
    {
      "key": {
        "uuid": "db1aadcf_7abe37c8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2021-10-14T17:13:03Z",
      "side": 1,
      "message": "Did you observe any bad behavior?\nAccording to the documentation I could find, the default constructor and the (std::nullptr_t) constructor do the same thing, so I wouldn\u0027t think this change is necessary/useful.",
      "range": {
        "startLine": 9,
        "startChar": 52,
        "endLine": 10,
        "endChar": 10
      },
      "revId": "37bb5a4c800c6aee9314ef08301e23291cf20950",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3708a23f_bfc53493",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-10-18T12:00:20Z",
      "side": 1,
      "message": "My bad. You are right.\n\nThere was a Segmentation fault issue(difficult to reproduce) reported and the coredump analysis was pointing out to operationalInterface-\u003eset_property() in sensor.hpp.\nFrom the code analysis the uninitialized smart pointer was a suspect. But as you mentioned the default constructor does the job here. Missed that part.\n\nI will try to dig deeper to the issue.",
      "parentUuid": "db1aadcf_7abe37c8",
      "range": {
        "startLine": 9,
        "startChar": 52,
        "endLine": 10,
        "endChar": 10
      },
      "revId": "37bb5a4c800c6aee9314ef08301e23291cf20950",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16f36cc1_c4cbde01",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-10-18T17:30:05Z",
      "side": 1,
      "message": "\u003e My bad. You are right.\n\u003e \n\u003e There was a Segmentation fault issue(difficult to reproduce) reported and the coredump analysis was pointing out to operationalInterface-\u003eset_property() in sensor.hpp.\n\u003e From the code analysis the uninitialized smart pointer was a suspect. But as you mentioned the default constructor does the job here. Missed that part.\n\nGenerally this occurs when we have callbacks that don\u0027t take proper ownership of the objects, and an event happens as a sensor is being destroyed.  Check for anyplace in the set_property callback where we capture by reference instead of by weak_ptr, and I\u0027ll bet that\u0027s your culprit.\n\n\u003e \n\u003e I will try to dig deeper to the issue.",
      "parentUuid": "3708a23f_bfc53493",
      "range": {
        "startLine": 9,
        "startChar": 52,
        "endLine": 10,
        "endChar": 10
      },
      "revId": "37bb5a4c800c6aee9314ef08301e23291cf20950",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e99c4fc8_5e5f8855",
        "filename": "include/sensor.hpp",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-10-14T20:32:03Z",
      "side": 1,
      "message": "Is this actually necessary? I thought an empty shared_ptr here is equivalent to nullptr. Did you see any issue without it?",
      "range": {
        "startLine": 66,
        "startChar": 69,
        "endLine": 66,
        "endChar": 78
      },
      "revId": "37bb5a4c800c6aee9314ef08301e23291cf20950",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4b28338_c99bcbc9",
        "filename": "include/sensor.hpp",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-10-16T18:06:48Z",
      "side": 1,
      "message": "These two statements are equivalent.  To my understanding and reading of the standard library, both the nullptr constructor, and the normal constructor would give the same result.\n\nto the author:\nCan you cite something that says that what we did previously is undefined behavior?",
      "parentUuid": "e99c4fc8_5e5f8855",
      "range": {
        "startLine": 66,
        "startChar": 69,
        "endLine": 66,
        "endChar": 78
      },
      "revId": "37bb5a4c800c6aee9314ef08301e23291cf20950",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d246f7b_594e7ffb",
        "filename": "include/sensor.hpp",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-10-18T12:00:20Z",
      "side": 1,
      "message": "My bad. You are right.\n\nThere was a Segmentation fault issue(difficult to reproduce) reported and the coredump analysis was pointing out to operationalInterface-\u003eset_property() at L374.\nThe issue was only one time seen and from the code analysis the uninitialized smart pointer was a suspect. But as you mentioned the default constructor does the job here. Missed that part.\n\nI will try to dig deeper to the issue.",
      "parentUuid": "d4b28338_c99bcbc9",
      "range": {
        "startLine": 66,
        "startChar": 69,
        "endLine": 66,
        "endChar": 78
      },
      "revId": "37bb5a4c800c6aee9314ef08301e23291cf20950",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}