{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5b7f87f2_f0f1cdbe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-01T01:08:19Z",
      "side": 1,
      "message": "nit: ideally this would be \u0027psu-sensor:\u0027 at the beginning.",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d3698de_3c0976a0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-05-02T12:19:38Z",
      "side": 1,
      "message": "Certainly, but may I confirm, should it be prefixed with `psu-sensor` instead of `pwm-sensor`?",
      "parentUuid": "5b7f87f2_f0f1cdbe",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6fca3b6_abf0065d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-02T22:16:50Z",
      "side": 1,
      "message": "Sorry, `pwm-sensor` as you said.  I mis-typed.  My point was to add an identifier as to which piece of code this is touching.",
      "parentUuid": "1d3698de_3c0976a0",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf6bc4cd_fc6ebdaa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-05-05T09:17:56Z",
      "side": 1,
      "message": "I understand and have corrected it, thank you for the reminder.",
      "parentUuid": "e6fca3b6_abf0065d",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ceb9f26_a5cb2887",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-05-02T17:51:13Z",
      "side": 1,
      "message": "I\u0027m a little confused at this.  This is PWM, ie the current output.  waiting for a fan to physically adjust it\u0027s speed would be reflected in RPM, the PWM would apply almost immediately.\n\nCan you clarify in your commit message what this means?  Are we waiting for the actual i2c write?  Doesn\u0027t that happen in the actual write call?",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 35,
        "endChar": 59
      },
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f689ece2_bf895165",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-02T22:16:50Z",
      "side": 1,
      "message": "Some fan control chips have a [programmable] ramp time so that you\u0027re not immediately shifting fans from 0 to 100.  This can be important both for acoustic reasons and for current draw reasons.  It might be difficult for your VR to supply the sudden need for additional current necessary for ramping the fans up rapidly.\n\nThe MAX31790 datasheet talks about this:\n\n\u003e Because the duty cycle\n\u003e ramps to new values at a controlled rate, the values\n\u003e in the two registers can be different. See the Register\n\u003e Descriptions section for \n\nThis can mean, as Eric wrote, that the \"Desired Target PWM\" and the \"Currently Driven PWM\" can be different.",
      "parentUuid": "6ceb9f26_a5cb2887",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 35,
        "endChar": 59
      },
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a10d2d8a_fdb86eb5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2025-06-05T22:25:30Z",
      "side": 1,
      "message": "Definitely. This is what I was trying to explain earlier, but rephrased better. It is clear we need to distinguish between the achieved setting (comes from the hardware) versus the desired setting (comes from the user).",
      "parentUuid": "f689ece2_bf895165",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 35,
        "endChar": 59
      },
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8df5304_7821269c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-05-02T17:51:13Z",
      "side": 1,
      "message": "This flow is a little bit confusing.  Does the first operation fail?",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 47,
        "endChar": 49
      },
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28fdc90c_15dd6bb1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-02T22:16:50Z",
      "side": 1,
      "message": "No, nothing fails from a BMC perspective.  The phosphor-pid-control won\u0027t write the PWM (via dbus-sensors) because it sees that the \"Currently Driven PWM\" matches its desired PWM target, but if the chip is in the middle of a ramp, this \"Currently Driven\" doesn\u0027t match the \"Desired Target\".  It causes phosphor-pid-control to miss setting the fans.",
      "parentUuid": "c8df5304_7821269c",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 47,
        "endChar": 49
      },
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93436665_3d20b737",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1000520
      },
      "writtenOn": "2025-06-05T22:25:30Z",
      "side": 1,
      "message": "Yep, you got it. This is another good reason why we need to have visibility into both of them, because they won\u0027t always match each other.",
      "parentUuid": "28fdc90c_15dd6bb1",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 47,
        "endChar": 49
      },
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2720d79d_2e054cf7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-01T01:08:19Z",
      "side": 1,
      "message": "Thans for the detailed commit message, Eric!  This is great context.",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "20627252_87809888",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-04-22T09:54:30Z",
      "side": 1,
      "message": "I am uncertain if this refinement aligns with OpenBMC\u0027s definitions and expectations for the `Target` property in the PWM control interface and the `Value` property in the PWM sensor interface.\n\nAdditionally, I am unsure if this approach is preferable to implementing driver-specific behaviors within the D-Bus sensor to address the issue.\nFor instance, handling drivers like [max31790] differently, where the `fan_target` file represents the desired RPM speed instead of PWM.\nTo calculate the target PWM from the fan_target file, knowledge of the maximum fan tach RPM is required for the conversion.\nIt\u0027s important to consider that the interpretation of sysfs filenames and semantics might differ across drivers, affecting the meanings and relationships of `fan_target` and pwm files.\n\nIf there is any guidance or feedback to help determine which method is more appropriate, it would be greatly appreciated.\nThank you very much!\n\n[max31790]: https://github.com/torvalds/linux/blob/a33b5a08cbbdd7aadff95f40cbb45ab86841679e/Documentation/hwmon/max31790.rst#L2",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77e99a81_a77b8b3b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-04-30T10:41:07Z",
      "side": 1,
      "message": "Just a friendly reminder to take a look at this commit and provide any feedback if possible.\nYour insights would be greatly appreciated.",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92cc8e84_55c78a7d",
        "filename": "src/PwmSensor.cpp",
        "patchSetId": 4
      },
      "lineNbr": 141,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-01T01:08:19Z",
      "side": 1,
      "message": "Why does the Target \u0027get\u0027 call do anything with the driver?  This is surprising to me.",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4679e367_f88eb403",
        "filename": "src/PwmSensor.cpp",
        "patchSetId": 4
      },
      "lineNbr": 141,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-05-02T12:19:38Z",
      "side": 1,
      "message": "My initial intent was to centralize all interactions with the driver PWM file under the Control::Target.\nAs part of that design, I implemented a recovery check on the driver PWM file during the get operation.\n\nHowever, I now understand that this approach may not be appropriate, so I will remove it.",
      "parentUuid": "92cc8e84_55c78a7d",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7694438_05f85832",
        "filename": "src/PwmSensor.cpp",
        "patchSetId": 4
      },
      "lineNbr": 141,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-05-05T09:17:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4679e367_f88eb403",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a646b828_64e59a64",
        "filename": "src/PwmSensor.cpp",
        "patchSetId": 4
      },
      "lineNbr": 151,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-01T01:08:19Z",
      "side": 1,
      "message": "I don\u0027t understand why a property-get turns into driver-write operation.\n\nPlease at least add comments as to why this is the case.",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4de6a00c_38cffe58",
        "filename": "src/PwmSensor.cpp",
        "patchSetId": 4
      },
      "lineNbr": 151,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-05-02T12:19:38Z",
      "side": 1,
      "message": "Once I have incorporated your suggestions into the current patch and verified that the updated code does not introduce any issues, I will update the patch and revise the comments accordingly.\nThank you very much for your guidance!",
      "parentUuid": "a646b828_64e59a64",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67803a51_f3f5d7fc",
        "filename": "src/PwmSensor.cpp",
        "patchSetId": 4
      },
      "lineNbr": 151,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-05-02T17:51:13Z",
      "side": 1,
      "message": "+1 to patricks comment.\n\nalso, it looks like we\u0027ve now changed target to be scaled based on min max?",
      "parentUuid": "4de6a00c_38cffe58",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73549cd9_cbed7986",
        "filename": "src/PwmSensor.cpp",
        "patchSetId": 4
      },
      "lineNbr": 151,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-05-05T09:17:56Z",
      "side": 1,
      "message": "Regarding the scaling of `Target` based on Min and Max, I am unsure if this is the most optimal approach.\nI have made adjustments based on the suggestions, and I kindly ask for your guidance.\nThank you very much.",
      "parentUuid": "67803a51_f3f5d7fc",
      "revId": "88f5dc08b91bc35969ca9ba74293950336e2f569",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}