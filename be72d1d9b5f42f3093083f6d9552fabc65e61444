{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dfab10d8_13fdbb02",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1002395
      },
      "writtenOn": "2025-11-18T13:55:52Z",
      "side": 1,
      "message": "Duplication doesn\u0027t exist as when the array element is assigned again, earlier object at that index will get destroyed. But, if earlier it was creating a new interface at same object path why it was not throwing an exception for duplication of dbus interface at the same object path.",
      "revId": "be72d1d9b5f42f3093083f6d9552fabc65e61444",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76b5f1e2_5a03718a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2025-12-16T07:50:19Z",
      "side": 1,
      "message": "In the current code path, when multiple thresholds with the same Severity are processed, add_interface() may be called multiple times for the same object path and interface name. sdbusplus does not always throw an exception on duplicate interface creation, so this can silently succeed.\n\nHowever, only the last created interface is tracked and explicitly removed during destruction. Earlier interfaces are never removed, which can lead to inconsistent object server state and undefined behavior.\n\nSince severity maps 1:1 to a D-Bus threshold interface, it is correct to ensure that the interface is only created once per severity level. The added check prevents duplicate registrations and avoids relying on implicit or undefined cleanup behavior.",
      "parentUuid": "dfab10d8_13fdbb02",
      "revId": "be72d1d9b5f42f3093083f6d9552fabc65e61444",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b3c7c26_9bd13074",
        "filename": "src/adc/ADCSensor.cpp",
        "patchSetId": 8
      },
      "lineNbr": 85,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-12T20:10:48Z",
      "side": 1,
      "message": "This looks like in itself a bug.  operator[] in c++ will create the entry if it doesn\u0027t exist, but will create with nullptr, so you probably want something like\n\n```\nstd::shared_ptr\u003c...\u003e threshold \u003d thresholdInterfaces[index];\nif (threshold !\u003d nullptr){\n   lg2::error(...);\n   continue;\n}\nthreshold \u003d objectServer.add_interface(...);\n```",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 85,
        "endChar": 39
      },
      "revId": "be72d1d9b5f42f3093083f6d9552fabc65e61444",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c041a419_eb159112",
        "filename": "src/adc/ADCSensor.cpp",
        "patchSetId": 8
      },
      "lineNbr": 85,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2025-12-16T07:50:19Z",
      "side": 1,
      "message": "`thresholdInterfaces` is a fixed-size container(array), not a map.\noperator[] does not create new entries and simply returns the existing element, which is default-initialized to nullptr.\nTherefore the current check is safe and has no side effects.",
      "parentUuid": "5b3c7c26_9bd13074",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 85,
        "endChar": 39
      },
      "revId": "be72d1d9b5f42f3093083f6d9552fabc65e61444",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4ba5fcb_1d674761",
        "filename": "src/fan/TachSensor.cpp",
        "patchSetId": 8
      },
      "lineNbr": 75,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-09T21:08:56Z",
      "side": 1,
      "message": "Won\u0027t this just result in the new config not being applied?\n\nI\u0027m really not clear on how this can happen given that this is the TachSensor constructor, thresholdInterfaces hasn\u0027t been touched at this point.  Wheren you tested this were, you able to see this log?",
      "revId": "be72d1d9b5f42f3093083f6d9552fabc65e61444",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}