{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "83174bf2_dd3ecb75",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-01-05T19:53:52Z",
      "side": 1,
      "message": "So why aren\u0027t these just encoded as part of the MCU device data?  Why would a user choose a scale that\u0027s different for that index?  This seems like something that shouldn\u0027t be configurable, unless there are multiple variants of MCU that can be configured differently, which doesn\u0027t appear to be the case here.",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "447b5c55_79e48ee3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 10,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2022-01-06T03:34:50Z",
      "side": 1,
      "message": "I\u0027m not really understanding your meaning.\nIn MCUTempSensor, the reading value return from i2c_smbus_read_word_data(https://github.com/openbmc/dbus-sensors/blob/master/src/MCUTempSensor.cpp#L139). So I think it is possible that have different scale.\n\nFor PCH example,\nin 9-series-chipset-pch(https://www.intel.com/content/dam/www/public/us/en/documents/datasheets/9-series-chipset-pch-datasheet.pdf 22.2.1), the resolution of temp is 1/2, so the result value cannot divide by 1000, should be 2.\nin 495 Series Chipset(https://www.intel.com.tw/content/www/tw/zh/products/docs/chipsets/495-series-chipset-on-package-pch-datasheet-vol-2.html 4.3.58), the resolution is 1, so the result value should divide by 1.\n\nSo I want to let the value 1000(https://github.com/openbmc/dbus-sensors/blob/master/src/MCUTempSensor.cpp#L172) could be set.",
      "parentUuid": "83174bf2_dd3ecb75",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcddca92_8ee3af62",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-01-24T21:16:36Z",
      "side": 1,
      "message": "\u003e I\u0027m not really understanding your meaning.\n\u003e In MCUTempSensor, the reading value return from i2c_smbus_read_word_data(https://github.com/openbmc/dbus-sensors/blob/master/src/MCUTempSensor.cpp#L139). So I think it is possible that have different scale.\n\nNot for a given sensor.\n\n\u003e \n\u003e For PCH example,\n\u003e in 9-series-chipset-pch(https://www.intel.com/content/dam/www/public/us/en/documents/datasheets/9-series-chipset-pch-datasheet.pdf 22.2.1), the resolution of temp is 1/2, so the result value cannot divide by 1000, should be 2.\n\nRight, and that doesn\u0027t change, so for that index, it can simply be hardcoded to 2.  With that said, you\u0027ve given an example of the PCH, not MCU, so it\u0027s a little bit strange.\n\n\u003e in 495 Series Chipset(https://www.intel.com.tw/content/www/tw/zh/products/docs/chipsets/495-series-chipset-on-package-pch-datasheet-vol-2.html 4.3.58), the resolution is 1, so the result value should divide by 1.\n\u003e \n\u003e So I want to let the value 1000(https://github.com/openbmc/dbus-sensors/blob/master/src/MCUTempSensor.cpp#L172) could be set.\n\nSo set it to 1000 for that MCU sensor index?  No need to add it to the config files.",
      "parentUuid": "447b5c55_79e48ee3",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4de7ec2_a3750cdf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 10,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2022-01-27T02:44:54Z",
      "side": 1,
      "message": "It looks like what Harvey want to do is to monitor the sensor reading(temperature) from some kind of intel PCH and this sensor reading can be get through i2c only and, unfortunately, the reading in that register do not want to be forcely divided by 1000.\n\nAfter checking the code of MCUTempSensor, it seems this sensor is just polling the sensor reading which is get through I2C. I have not seen any special setting for \"MCU\" device in the code. I think the way MCUTempSensor polling sensor reading is the reason why he want to use this sensor to monitor that register in that PCH.\n\nHe has remained the default of \"scale\" as 1000, I think this will not influence anyone else.",
      "parentUuid": "bcddca92_8ee3af62",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4619235c_7aee89e2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 11,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2022-01-10T00:37:54Z",
      "side": 1,
      "message": "s/hardcore/hard-coded/ ?",
      "range": {
        "startLine": 11,
        "startChar": 45,
        "endLine": 11,
        "endChar": 53
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11f27f88_03bc1980",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 11,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2022-01-12T07:07:56Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "4619235c_7aee89e2",
      "range": {
        "startLine": 11,
        "startChar": 45,
        "endLine": 11,
        "endChar": 53
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9a43274_f8b60ef1",
        "filename": "src/MCUTempSensor.cpp",
        "patchSetId": 9
      },
      "lineNbr": 238,
      "author": {
        "id": 1001049
      },
      "writtenOn": "2022-01-04T07:30:05Z",
      "side": 1,
      "message": "Question:\n\nIn case of failure to find \"ScaleValue\" we need to default to 1000. This you are doing rt now. \n\nBut scale \u003c\u003d 0 is a exception. There also are we planning to use default value? or assume wrong configuration and call \"continue;\"",
      "range": {
        "startLine": 238,
        "startChar": 32,
        "endLine": 238,
        "endChar": 51
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee35aedb_2dd82f6f",
        "filename": "src/MCUTempSensor.cpp",
        "patchSetId": 9
      },
      "lineNbr": 238,
      "author": {
        "id": 1000847
      },
      "writtenOn": "2022-01-04T08:14:40Z",
      "side": 1,
      "message": "You mean when scale input value \u003c\u003d 0, ignore build this sensor and print error message. And then continue to build other MCU sensors?\nHmm... Maybe it\u0027s a better way.",
      "parentUuid": "f9a43274_f8b60ef1",
      "range": {
        "startLine": 238,
        "startChar": 32,
        "endLine": 238,
        "endChar": 51
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fcbb7f4c_671e2925",
        "filename": "src/MCUTempSensor.cpp",
        "patchSetId": 9
      },
      "lineNbr": 238,
      "author": {
        "id": 1001049
      },
      "writtenOn": "2022-01-04T08:19:14Z",
      "side": 1,
      "message": "I am not suggesting that, it\u0027s a question. \nMay be Ed or maintainers can take a call on that.",
      "parentUuid": "ee35aedb_2dd82f6f",
      "range": {
        "startLine": 238,
        "startChar": 32,
        "endLine": 238,
        "endChar": 51
      },
      "revId": "157d6d601e417235ff1438d18a00a58e7ded4591",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}