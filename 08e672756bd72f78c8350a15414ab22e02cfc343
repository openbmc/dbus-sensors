{
  "comments": [
    {
      "key": {
        "uuid": "8a4bf608_997b689d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-06-07T20:07:27Z",
      "side": 1,
      "message": "Please clarify that existing behavior is preserved, i.e. no DevName is defined, iio-hwmon is assumed.",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f44f8791_5cb62148",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-06-11T10:43:04Z",
      "side": 1,
      "message": "Yes, the existing behavior is preserved. As this patches.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/dbus-sensors/+/42542\nThe default \"iio-hwmons\" is used then there are no option DevName.",
      "parentUuid": "8a4bf608_997b689d",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2549a66_d1edba8e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-06-12T03:17:36Z",
      "side": 1,
      "message": "Can you please add the clarification in the commit message?",
      "parentUuid": "f44f8791_5cb62148",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d6b6ee4_92c9da7f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-06-15T03:00:17Z",
      "side": 1,
      "message": "Just update the commit message.",
      "parentUuid": "c2549a66_d1edba8e",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef3b7f53_e3e08255",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 45,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-06-07T20:07:27Z",
      "side": 1,
      "message": "Please test for regression, i.e. if no DevName is defined, this sensor still constructed correctly since iio-hwmon is the default.",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 45,
        "endChar": 38
      },
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4faf4a4_d2e0da13",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 45,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-06-11T10:43:04Z",
      "side": 1,
      "message": "Yes, the test case is included. The default value \"bio-hwmon\" is used when there are no DevName option.",
      "parentUuid": "ef3b7f53_e3e08255",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 45,
        "endChar": 38
      },
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0592be04_372af64b",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-06-11T10:43:04Z",
      "side": 1,
      "message": "The default name iio-hwmon is used in this case.",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8d0fe0c_0aff27cf",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-06-14T21:22:19Z",
      "side": 1,
      "message": "Please see my comments in https://gerrit.openbmc-project.xyz/c/openbmc/dbus-sensors/+/42542\nAlso - maybe combine the two patch. IMO, the change go together.",
      "parentUuid": "0592be04_372af64b",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2069d221_5659031e",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-06-15T03:00:17Z",
      "side": 1,
      "message": "I updated my comments. The sensor configuration should be checked in three below cases:\n1. deviceName \u003d \"iio-hwmon\", no DevName in the configuration.\n2. deviceName \u003d \"iio-hwmon\", DevName option is \"iio-hwmon\".\n3. deviceName \u003d \"abcd\", DevName option is \"abcd\".\nIf we move if at line 129 out side of for, the case 3 will be bypassed.\n\nCan we keep they are separate? The first patch is remove the current design. And this patch is for support DevName in configuration.",
      "parentUuid": "f8d0fe0c_0aff27cf",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23efd0f7_d5f29816",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-06-15T16:22:39Z",
      "side": 1,
      "message": "\u003cIf we move if at line 129 out side of for, the case 3 will be bypassed\nI guess, my question is: is there a real use case for #3? or is iio-hwmon-xxxx like your test cases meet the current requirements? \n\u003cCan we keep they are separate? The first patch is remove the current design. And this patch is for support DevName in configuration.\nI am ok with keeping them separate.",
      "parentUuid": "2069d221_5659031e",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ca50e46_7ba811c2",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-06-16T00:55:00Z",
      "side": 1,
      "message": "Section \"2.2.1 Node Name\" of \"Devicetree specification v0.03\" define the rules\nof the device driver name. It doesn\u0027t limit the ADC device name by \"iio_hwmon\"\nstring. So I think the case 3 is valid. Do we have any others requirement for ADC driver name?",
      "parentUuid": "23efd0f7_d5f29816",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eca3e580_54f8f83b",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-06-22T00:05:57Z",
      "side": 1,
      "message": "Sorry, I am still not convinced that we need to support generic device tree spec here. Do you have a use case that need to make it name generic? The performance hit here may not be a big deal, but I am little worried about accumulative effect. I would be ok with this change if there is a real requirement for it.",
      "parentUuid": "2ca50e46_7ba811c2",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41f21378_ef37a067",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-07-03T07:06:21Z",
      "side": 1,
      "message": "https://github.com/openbmc/linux/blob/dd1e9367157f900616f0eae3cef897c23d4e7452/arch/arm/boot/dts/aspeed-bmc-ampere-mtjade.dts#L271\nwith below kind of device tree of Ampere platform, the change is required.\nThe current design of ADC daemon only supports one ADC device tree and its\u0027 name should be \"iio-hwmon\".",
      "parentUuid": "eca3e580_54f8f83b",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7412f860_449ba46e",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-07-06T00:31:23Z",
      "side": 1,
      "message": "Moreover, In Ast2600 chip, \"ADC Engine has 2 Analog-to-Digital Convertor\" so supporting multiple ADC devices is necessary.",
      "parentUuid": "41f21378_ef37a067",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41d251b4_b7c437c0",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-07-07T22:10:03Z",
      "side": 1,
      "message": "For your use case, it should work with assumption that the name *starts* with iio-hwmon, which is what I was asking about.",
      "parentUuid": "7412f860_449ba46e",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6474301_df090905",
        "filename": "src/ADCSensorMain.cpp",
        "patchSetId": 7
      },
      "lineNbr": 129,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2021-07-07T23:08:33Z",
      "side": 1,
      "message": "So you expect that the ADC devices name should follow format iio-hwmon-*, then the line 129 can move out side the for?\nIn that case those line can change to:\n\nif (deviceName.find(deviceName) \u003d\u003d std::string::npos)\n{\n    continue;\n}\n\nIs this what you mean?",
      "parentUuid": "41d251b4_b7c437c0",
      "revId": "08e672756bd72f78c8350a15414ab22e02cfc343",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}